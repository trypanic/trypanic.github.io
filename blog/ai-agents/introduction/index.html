<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>How to Build a Basic CLI AI Agent with Golang - Part 1</title>
		<meta name="description" content="AI agent, we&#39;ll begin with basic interactions with a large language model (LLM) and gradually progress toward a more complete AI Agent by incorporating tools, memory, MCP (Model Context Protocol)...">
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="try panic blog | computer science | software engineering">
		<link rel="stylesheet" href="/css/index.css">
	</head>
	<body>
		<header>
			<div class="logo">
				<a href="/">try<span>panic</span></a>
			</div>
			<div class="nav">
				<nav>
						<a class="nav-item" href="/">Home</a>
						<a class="nav-item" href="/archive/">Archive</a>
						<a class="nav-item" href="/about/">About</a>
						<a class="nav-item" href="/feed/feed.xml">Feed</a>
				</nav>
			</div>
		</header>
		<main id="main">
			<style>
	:root{--bg:#1d2021;--fg:#ebdbb2;--dark0_hard:#1d2021;--dark0:#282828;--dark1:#3c3836;--dark2:#504945;--dark3:#665c54;--dark4:#7c6f64;--gray:#928374;--light0_hard:#f9f5d7;--light0:#ebdbb2;--light1:#ebdbb2;--light2:#d5c4a1;--light3:#bdae93;--light4:#a89984;--bright_red:#fb4934;--bright_green:#b8bb26;--bright_yellow:#fabd2f;--bright_blue:#83a598;--bright_purple:#d3869b;--bright_aqua:#8ec07c;--bright_orange:#fe8019}.token{color:var(--light0_hard)}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:var(--dark4);font-style:italic}.token.string{color:var(--bright_green)}.token.keyword{color:var(--bright_red)}.token.type{color:var(--bright_aqua)}.token.function{color:var(--bright_aqua)}.token.boolean{color:var(--bright_purple)}.token.nil{color:var(--bright_orange)}.token.number{color:var(--bright_purple)}.token.operator{color:var(--light0)}.token.operator-assignment{color:var(--light0)}.token.operator-channel-left,.token.operator-channel-right{color:var(--bright_orange)}.token.punctuation{color:var(--light0)}.token.tag{color:var(--bright_blue)}.token.interface-method .function{color:var(--bright_aqua)}.token.channel .keyword,.token.map .keyword,.token.slice .punctuation{color:var(--light0)}.token.channel .type,.token.map .type,.token.slice .type{color:var(--bright_aqua)}.token.identifier{color:var(--bright_blue)}.token.namespace{color:var(--light2)}.token.class-name,.token.structure-name{color:var(--bright_purple)}.token.property{color:var(--bright_yellow)}.token.namespace{opacity:1}code,code[class*=language-],pre,pre[class*=language-]{font-family:var(--font-family-monospace);background:var(--code-bg);line-height:1.25}p code{background:0 0;color:var(--p-code-text-color);font-family:var(--font-family-base);font-weight:500}pre code{display:block;border-bottom-left-radius:5px;border-bottom-right-radius:5px;padding:2em}details{margin:1em 0}summary{background:var(--bright_blue);color:var(--dark0);padding:1em;font-weight:700;text-transform:lowercase;font-family:var(--font-family-base);border-radius:5px}details pre{border-radius:0 0 5px 5px}details:open>summary{border-bottom-left-radius:0;border-bottom-right-radius:0}
</style>
<div class="post-title">
	<h1 id="how-to-build-a-basic-cli-ai-agent-with-golang-part-1">How to Build a Basic CLI AI Agent with Golang - Part 1</h1>
</div>
<div class="post-content">
	<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#what-is-an-ai-agent-">What is an AI Agent?</a></li>
<li><a href="#a-simple-interaction-with-an-llm--one-input--one-output-">Single LLM Interaction - Blocking (One Input, One Output)</a>
<ul>
<li><a href="#observations">Observations</a></li>
</ul>
</li>
<li><a href="#improving-user-experience-with-streaming">Single LLM Interaction - Non-Blocking (One Input, One Output)</a>
<ul>
<li><a href="#what-is-streaming-">What is Streaming?</a></li>
<li><a href="#why-this-still-isn-t-an-ai-agent">Why This Still Isn't an AI Agent</a></li>
</ul>
</li>
<li><a href="#what-s-next">What's Next</a></li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>This post is the first in a series where I'll share my personal journey of learning how to build an AI Agent from scratch using Golang. It's heavily inspired by <a href="https://ampcode.com/how-to-build-an-agent">How to Build an Agent</a> by <a href="https://thorstenball.com/">Thorsten Ball</a>, but with a different perspective and target: evidently, a AI specific-purpose agent.</p>
<p>We'll begin with basic interactions with a large language model (LLM) and gradually progress toward a more complete AI Agent by incorporating conversation memory, tools, decision-making capabilities, MCP (Model Context Protocol), and more.</p>
<p>My goal is to share everything I've learned about how AI agents work under the hood, and to make that understanding accessible to others who are interested in the same topic.</p>
<p>Below you can see a general roadmap to give you an idea of what I'll be writing about.</p>
<pre class="mermaid">
    block-beta
    columns 4
    p1&#x3E;&#x22;Part1&#x22;] Stage1[&#x22;Single LLM Interaction&#x3C;br/&#x3E;Blocking&#x22;] id1&#x3C;[&#x22; &#x22;]&#x3E;(right) Stage2[&#x22;Single LLM Interaction&#x3C;br/&#x3E;Non-Blocking / Streaming&#x22;]

    p2&#x3E;&#x22;Part2&#x22;] Stage3[&#x22;Continuous LLM Interaction&#x3C;br/&#x3E;No Memory&#x22;] id3&#x3C;[&#x22; &#x22;]&#x3E;(right) Stage4[&#x22;Continuous LLM Interaction&#x3C;br/&#x3E;With Memory&#x22;]

    p3&#x3E;&#x22;Part3&#x22;] Stage5[&#x22;LLM Limitations &#x26; Context Boundaries&#x22;] id5&#x3C;[&#x22; &#x22;]&#x3E;(right) Stage6[&#x22;Custom Tool Integration / Function Calls&#x22;]

    p4&#x3E;&#x22;Part4&#x22;] Stage7[&#x22;Challenges with Function Calls Approaches&#x22;] id7&#x3C;[&#x22; &#x22;]&#x3E;(right) Stage8[&#x22;Model Context Protocol&#x22;]

    p5&#x3E;&#x22;Part5&#x22;] Stage9[&#x22;Model Context Protocol vs Function Calls&#x22;] id9&#x3C;[&#x22; &#x22;]&#x3E;(right) Stage10[&#x22;AI Agent in Practice with MCP&#x22;]

    classDef parts fill:#ffe4b780,stroke-width:0px;
    classDef s1 fill:#ffe0e080,stroke-width:0px;
    classDef s2 fill:#fbe3e1,stroke-width:0px;
    classDef s3 fill:#f1f7e1,stroke-width:0px;
    classDef s4 fill:#faf3d1,stroke-width:0px;
    classDef s5 fill:#e9f5f6,stroke-width:0px;
    classDef s6 fill:#f6e9f3,stroke-width:0px;
    classDef s7 fill:#e6f4ed,stroke-width:0px;
    classDef s8 fill:#fbeee5,stroke-width:0px;
    classDef s9 fill:#eee6d5,stroke-width:0px;
    classDef s10 fill:#e9e3d1,stroke-width:0px

    class p1,p2,p3,p4,p5,p6,p7,p8,p9,p10 parts
    class Stage1 s1
    class Stage2 s2
    class Stage3 s3
    class Stage4 s4
    class Stage5 s5
    class Stage6 s6
    class Stage7 s7
    class Stage8 s8
    class Stage9 s9
    class Stage10 s10
</pre>
<!--
1 introduction
2 Prerequisites
3 Environment Setup
4 what is an AI Agent?
5 Single LLM Interaction - Blocking
6 Single LLM Interaction - Non-Blocking (Streaming)
7 Dynamic Interaction (No Memory)
8 Dynamic Interaction (Memory)
9 LLM Limitations & Context Boundaries
  9.1 Knowledge Cutoff: Can't access recent information
  9.2 No External Actions: Can't send emails, make API calls, access files
  9.3 No Real-time Data: Can't get weather, stock prices, etc.
  9.4 Computational Limits: Struggles with complex math, can't run code
  9.5 No Persistence: Can't save data between sessions (beyond conversation memory)
10 Custom Tool Integration (Functions Calling & External Actions)
11 Drawbacks of Function Calls
12 Model Context Protocol
13 Function Calls vs Model Context Protocol
14 AI Agent in Practice
	14.1 Simple Tool (calculation, web request)
	14.2 Complex Tool (file operations, database queries)

```
-->
<br>
<p><strong><em>Disclaimer</em></strong>: I'm not an expert in AI Agents, LLMs, ML, and AI in general. This series is based on my personal learning journey, and everything I share comes from reading, research, and hands-on experimentation. Use it as a learning resource. The code examples are for educational purposes and are not production-ready.</p>
<br>
<p>If you see any mistakes or have suggestions for improvement, I'd really appreciate your feedback!</p>
<h2 id="what-is-an-ai-agent">What is an AI Agent?</h2>
<p>According to Google:</p>
<blockquote>
<p>AI agents are software systems that use AI to pursue goals and complete tasks on behalf of users. They show reasoning, planning, and memory and have a level of autonomy to make decisions, learn, and adapt.</p>
</blockquote>
<p>According to Anthropic:</p>
<blockquote>
<p>&quot;Agent&quot; can be defined in several ways. Some customers define agents as fully autonomous systems that operate independently over extended periods, using various tools to accomplish complex tasks. Others use the term to describe more prescriptive implementations that follow predefined workflows.</p>
</blockquote>
<p>Both are clear explanations of what an AI Agent is. But to truly understand what's happening under the hood, let's break it all down from scratch. After exploring the concepts step by step, I'll share my own perspective. Then, you'll have enough context to define what an AI Agent really means in your own words.</p>
<h2 id="a-simple-interaction-with-an-llm-one-input-one-output">A Simple Interaction with an LLM (One Input, One Output)</h2>
<p>Let's start with the most basic form of interaction: you send a prompt (a single message, specific instructions, query, and so on) to an LLM through the Anthropic API using the Anthropic SDK. The API responds with a generated message.</p>
<pre class="mermaid">flowchart LR
  A[Client Anthropic SDK] e1@--&#x3E;| prompt |B[Anthropic API]
  B e2@--&#x3E; | response |A
  e1@{ animation: fast }
  e2@{ animation: fast }
</pre>
<p>For example, you might send: <code>&quot;Hello, how are you?&quot;</code></p>
<p>And the model might respond with: <code>&quot;I'm doing well, thank you!&quot;</code></p>
<p>Here's what that looks like in Go:</p>
<details>
<summary>Golang Code</summary>
<pre class="language-golang" tabindex="0" data-language="golang"><code class="language-golang"><span class="token comment">// Set your API key as an environment variable named ANTHROPIC_API_KEY</span>
<span class="token comment">// Ensure the necessary Go dependencies are installed</span>

<span class="token keyword">package</span> <span class="token identifier">main</span>

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string string">"context"</span>
	<span class="token string string">"fmt"</span>
	<span class="token string string">"time"</span>

	<span class="token string string">"github.com/anthropics/anthropic-sdk-go"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token identifier">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token identifier">ctx</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">context</span><span class="token property property">.Background</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token identifier">message</span> <span class="token operator operator-assignment">:=</span> <span class="token string string">"Hello, how are you?"</span>
	<span class="token comment">//message := "Can you tell me about the history of AI?"</span>
	<span class="token identifier">client</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewClient</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token comment">// Start timing</span>
	<span class="token identifier">start</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">time</span><span class="token property property">.Now</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token identifier">outcome</span><span class="token punctuation">,</span> <span class="token identifier">err</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">client</span><span class="token structure-name class-name">.Messages</span><span class="token property property">.New</span></span><span class="token punctuation">(</span><span class="token identifier">ctx</span><span class="token punctuation">,</span> <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.MessageNewParams</span></span><span class="token punctuation">{</span>
		<span class="token identifier">Model</span><span class="token punctuation">:</span>     <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.ModelClaude4Sonnet20250514</span></span><span class="token punctuation">,</span>
		<span class="token identifier">MaxTokens</span><span class="token punctuation">:</span> <span class="token type">int64</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token identifier">Messages</span><span class="token punctuation">:</span> <span class="token slice"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token type">anthropic</span></span><span class="token property property">.MessageParam</span><span class="token punctuation">{</span>
			<span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewUserMessage</span></span><span class="token punctuation">(</span><span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewTextBlock</span></span><span class="token punctuation">(</span><span class="token identifier">message</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token comment">// End timing</span>
	<span class="token identifier">duration</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">time</span><span class="token property property">.Since</span></span><span class="token punctuation">(</span><span class="token identifier">start</span><span class="token punctuation">)</span>

	<span class="token keyword">if</span> <span class="token identifier">err</span> <span class="token operator">!=</span> <span class="token nil">nil</span> <span class="token punctuation">{</span>
		<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Println</span></span><span class="token punctuation">(</span><span class="token string string">"Error:"</span><span class="token punctuation">,</span> <span class="token identifier">err</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Printf</span></span><span class="token punctuation">(</span><span class="token string string">"Response: %+v\n"</span><span class="token punctuation">,</span> <span class="token chained-access"><span class="token namespace">outcome</span><span class="token property property">.Content</span></span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token property property">.Text</span><span class="token punctuation">)</span>
	<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Printf</span></span><span class="token punctuation">(</span><span class="token string string">"Execution time: %s\n"</span><span class="token punctuation">,</span> <span class="token identifier">duration</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>The most relevant part of the code is:</p>
<pre class="language-golang" tabindex="0" data-language="golang"><code class="language-golang"><span class="token identifier">outcome</span><span class="token punctuation">,</span> <span class="token identifier">err</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">client</span><span class="token structure-name class-name">.Messages</span><span class="token property property">.New</span></span><span class="token punctuation">(</span><span class="token identifier">ctx</span><span class="token punctuation">,</span> <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.MessageNewParams</span></span><span class="token punctuation">{</span>
	<span class="token identifier">Model</span><span class="token punctuation">:</span>     <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.ModelClaude4Sonnet20250514</span></span><span class="token punctuation">,</span>
	<span class="token identifier">MaxTokens</span><span class="token punctuation">:</span> <span class="token type">int64</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token identifier">Messages</span><span class="token punctuation">:</span> <span class="token slice"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token type">anthropic</span></span><span class="token property property">.MessageParam</span><span class="token punctuation">{</span>
		<span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewUserMessage</span></span><span class="token punctuation">(</span><span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewTextBlock</span></span><span class="token punctuation">(</span><span class="token identifier">message</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Where explicitly setting the model and parameters is crucial for controlling the behavior of the AI agent.</p>
</details>
<p>When you run the previous code, the response might look like:</p>
<p><img src="../img/1.webp" alt=""></p>
<p>Let's try sending another message: <code>&quot;Can you give me a summary about the history of AI?&quot;</code></p>
<p>Executing the code will give you something like:</p>
<p><img src="../img/2.webp" alt=""></p>
<h3 id="observations">Observations</h3>
<ol>
<li>
<p><strong>Response time varies significantly</strong>: The first example takes approximately 1.5 seconds, while the second takes approximately 10 seconds. This variation depends on the complexity of the response.</p>
</li>
<li>
<p><strong>Verbose responses</strong>: In the first example, the response is more verbose than a simple &quot;I'm doing well, thank you!&quot; This is because the model is designed to be helpful and informative, but it can be adjusted by changing the prompt or model parameters (e.g., temperature, top_p, etc.).</p>
</li>
<li>
<p><strong>Blocking behavior</strong>: During this process, the execution appears to freeze until the response is received, particularly in the second example, where the delay is more evident. When a user is directly interacting with the system, this results in a poor user experience and may give the impression that the application is unresponsive. However, when the process runs in the background, this delay is generally inconsequential, but it all depends on the type of application you are building.</p>
</li>
</ol>
<br>
<p>In both examples, we see a simple interaction: <code>input → output</code>
So, is this simple interaction considered an AI Agent? You might think so, after all, you're interacting with a LLM over the Anthropic API, right? but, the short answer is <strong>absolutely not!</strong></p>
<p><strong>Why not?</strong> Because the code we've used so far only handles a single, stateless interaction with no ongoing dialogue and it is blocking. Additionally, it doesn't:</p>
<ul>
<li>Retain any previous messages in memory</li>
<li>Take actions on your behalf</li>
<li>Interact with external systems or tools</li>
<li>Understand or pursue goals</li>
<li>Make decisions based on context or requirements</li>
</ul>
<p>This basic interaction is not sufficient to qualify as an AI agent. <strong>Here's a simple test that proves this point:</strong></p>
<p>Try sending the message: <code>&quot;What time is it now?&quot;</code></p>
<p>The response will be something like: <code>&quot;I don't have access to real-time information, so I can't tell you the current time. To find out what time it is, you could...&quot;</code></p>
<p>This demonstrates a fundamental limitation: the system can't perform actions or access external information (core requirements for any useful AI agent).</p>
<h2 id="improving-user-experience-with-streaming">Improving User Experience with Streaming</h2>
<p>Before we add agent-like capabilities, let's address the blocking behavior issue. This won't make our system an AI agent, but it will make it feel more responsive and interactive, qualities that any good agent should have. What it means?</p>
<p><img src="../img/3.webp" alt=""></p>
<p>Seems like a good start with an acceptable user experience, right?</p>
<h3 id="what-is-streaming">What is Streaming?</h3>
<p>Think of streaming like talking to someone who starts speaking as soon as they have an idea, instead of waiting to plan out everything they’re going to say. They share their thoughts bit by bit, as they come, until they’ve said everything.</p>
<p>In our LLM context, instead of waiting for the entire response to be generated before displaying it, streaming allows us to receive and display the response as it's being generated, word by word or chunk by chunk.</p>
<p>Here's the refactored code using streaming:</p>
<details>
<summary>Streaming Implementation</summary>
<pre class="language-golang" tabindex="0" data-language="golang"><code class="language-golang"><span class="token keyword">package</span> <span class="token identifier">main</span>

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string string">"context"</span>
	<span class="token string string">"fmt"</span>
	<span class="token string string">"os"</span>

	<span class="token string string">"github.com/anthropics/anthropic-sdk-go"</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token identifier">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token identifier">ctx</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">context</span><span class="token property property">.Background</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span><span class="token chained-access"><span class="token namespace">os</span><span class="token property property">.Args</span></span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token punctuation">{</span>
		<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Println</span></span><span class="token punctuation">(</span><span class="token string string">"Usage: go run main.go \"Your message here\""</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token identifier">message</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">os</span><span class="token property property">.Args</span></span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
	<span class="token identifier">client</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewClient</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

	<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Printf</span></span><span class="token punctuation">(</span><span class="token string string">"You: %s\n\nAssistant: "</span><span class="token punctuation">,</span> <span class="token identifier">message</span><span class="token punctuation">)</span>

	<span class="token identifier">stream</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">client</span><span class="token structure-name class-name">.Messages</span><span class="token property property">.NewStreaming</span></span><span class="token punctuation">(</span><span class="token identifier">ctx</span><span class="token punctuation">,</span> <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.MessageNewParams</span></span><span class="token punctuation">{</span>
		<span class="token identifier">Model</span><span class="token punctuation">:</span>     <span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.ModelClaude4Sonnet20250514</span></span><span class="token punctuation">,</span>
		<span class="token identifier">MaxTokens</span><span class="token punctuation">:</span> <span class="token type">int64</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token identifier">Messages</span><span class="token punctuation">:</span> <span class="token slice"><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token type">anthropic</span></span><span class="token property property">.MessageParam</span><span class="token punctuation">{</span>
			<span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewUserMessage</span></span><span class="token punctuation">(</span><span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.NewTextBlock</span></span><span class="token punctuation">(</span><span class="token identifier">message</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token keyword">for</span> <span class="token chained-access"><span class="token namespace">stream</span><span class="token property property">.Next</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token identifier">event</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">stream</span><span class="token property property">.Current</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token chained-access"><span class="token namespace">event</span><span class="token property property">.Type</span></span> <span class="token operator">==</span> <span class="token string string">"content_block_delta"</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token identifier">delta</span><span class="token punctuation">,</span> <span class="token identifier">ok</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">event</span><span class="token structure-name class-name">.ContentBlockDelta</span><span class="token property property">.Delta</span></span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token chained-access"><span class="token namespace">anthropic</span><span class="token property property">.TextDelta</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token identifier">ok</span> <span class="token punctuation">{</span>
				<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Print</span></span><span class="token punctuation">(</span><span class="token chained-access"><span class="token namespace">delta</span><span class="token property property">.Text</span></span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token identifier">err</span> <span class="token operator operator-assignment">:=</span> <span class="token chained-access"><span class="token namespace">stream</span><span class="token property property">.Err</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token identifier">err</span> <span class="token operator">!=</span> <span class="token nil">nil</span> <span class="token punctuation">{</span>
		<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Printf</span></span><span class="token punctuation">(</span><span class="token string string">"\nError: %v\n"</span><span class="token punctuation">,</span> <span class="token identifier">err</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>

	<span class="token chained-access"><span class="token namespace">fmt</span><span class="token property property">.Println</span></span><span class="token punctuation">(</span><span class="token string string">"\n"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
</details>
<p>This streaming implementation provides immediate feedback and a more natural, conversational feel. As you can see in the third image, the response appears progressively, making the interaction feel more alive and responsive.</p>
<h3 id="why-this-still-isnt-an-ai-agent">Why This Still Isn't an AI Agent</h3>
<p>While streaming improves the user experience dramatically, our system still lacks the core characteristics of an AI agent:</p>
<ul>
<li><strong>No memory</strong>: Each interaction is independent</li>
<li><strong>No tools</strong>: Can't perform actions beyond generating text</li>
<li><strong>No goal-oriented behavior</strong>: Doesn't work toward specific objectives</li>
<li><strong>No decision-making</strong>: Doesn't choose between different courses of action</li>
</ul>
<p>In the next parts of this series, we'll add these missing pieces step by step that will transform our single LLM interaction into a true AI agent.</p>
<h2 id="whats-next">What's Next</h2>
<p>In the upcoming posts, we'll explore:</p>
<ol>
<li><strong>Continues LLM Interaction - No Memory</strong> - Making a fluent conversation with the LLM 2. <strong>Continues LLM Interaction - With Memory</strong> - Making a fluent conversation with the LLM remembering previous interactions</li>
<li><strong>LLM Limitations &amp; Context Boundaries</strong> - Understanding the limitations of the previous interactions</li>
<li><strong>Custom Tools / Function Calls</strong> - Adding to LLM the ability to perform actions with external systems</li>
<li><strong>Challenges with Function Calls Approaches</strong></li>
<li><strong>Model Context Protocol (MCP)</strong></li>
<li><strong>Model Context Protocol vs Function Calls</strong></li>
<li><strong>AI Agent in Practice with MCP</strong></li>
</ol>
<p>Each step will bring us closer to a system that truly deserves the title &quot;AI Agent.&quot;</p>

</div>

<div class="post-metadata">
	<time datetime="2025-07-30">30 July 2025</time>
	<div class="post-metadata-tags">tags: &nbsp;
			<a href="/tags/ai-agents/">
				ai-agents</a>
				<span class="separator-tags">|</span>
			
			<a href="/tags/llms/">
				LLMS</a>
				<span class="separator-tags">|</span>
			
			<a href="/tags/golang/">
				golang</a>
	</div>
</div>
		<div class="links-nextprev">
				<div class="previous">&#129032 Previous<br>
					<a href="/blog/hello-world/">Hello World</a>
				</div>
			
		</div>

		</main>
		<footer>
			<p class="builtwith">
				Built with <a href="https://github.com/11ty/eleventy-base-blog">Eleventy Base Blog v9</a>
			</p>
		</footer>
		<script type="module" async="">import mermaid from "https://unpkg.com/mermaid@11.9.0/dist/mermaid.esm.min.mjs";document.addEventListener('DOMContentLoaded', mermaid.initialize({"startOnLoad":true,"theme":"neutral","loadOnSave":true}));</script>
	</body>
</html>
